{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport vars from \"./replacers/vars\";\nimport mediaQueries from \"./replacers/media-queries\";\nimport Value from \"./value\";\nimport utils from \"./utils\";\nvar _default = function () {\n  function _default(source) {\n    var varsArr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    _classCallCheck(this, _default);\n    this.source = source;\n    this.varsArr = varsArr;\n    this.processedSource = null;\n    this.extractedVars = null;\n    this.extractedProps = null;\n    this.calculatedVars = null;\n    this.calculatedProps = null;\n  }\n  _createClass(_default, [{\n    key: \"calc\",\n    value: function calc() {\n      this.processSource();\n      this.calcVars();\n      this.calcProps();\n      this.tryOutline();\n      return {\n        calculatedVars: this.calculatedVars,\n        calculatedProps: this.calculatedProps\n      };\n    }\n  }, {\n    key: \"processSource\",\n    value: function processSource() {\n      this.processedSource = mediaQueries.process(this.source);\n    }\n  }, {\n    key: \"calcVars\",\n    value: function calcVars() {\n      this.extractedVars = vars.extract(this.processedSource);\n      if (this.extractedVars) {\n        var varsArrForVars = [this.extractedVars].concat(this.varsArr);\n        this.calculatedVars = calcPlainObject(this.extractedVars, varsArrForVars);\n        this.varsArr = [this.calculatedVars].concat(this.varsArr);\n      }\n    }\n  }, {\n    key: \"calcProps\",\n    value: function calcProps() {\n      this.extractedProps = utils.excludeKeys(this.processedSource, this.extractedVars);\n      this.calculatedProps = calcPlainObject(this.extractedProps, this.varsArr);\n    }\n  }, {\n    key: \"tryOutline\",\n    value: function tryOutline() {\n      var outline = vars.get('$outline', this.varsArr);\n      if (outline) {\n        this.calculatedProps.borderWidth = typeof outline === 'number' ? outline : 1;\n        this.calculatedProps.borderColor = getRandomColor();\n      }\n    }\n  }]);\n  return _default;\n}();\nexport { _default as default };\nfunction calcPlainObject(obj, varsArr) {\n  return Object.keys(obj).reduce(function (res, prop) {\n    res[prop] = calcStyleValue(prop, obj[prop], varsArr);\n    return res;\n  }, {});\n}\nfunction calcStyleValue(prop, value, varsArr) {\n  var isNestedValue = value && typeof value === 'object' && !Array.isArray(value);\n  return isNestedValue ? calcPlainObject(value, varsArr) : new Value(value, prop, varsArr).calc();\n}\nfunction getRandomColor() {\n  var colors = ['black', 'red', 'green', 'blue'];\n  var index = Math.round(Math.random() * (colors.length - 1));\n  return colors[index];\n}","map":{"version":3,"names":["vars","mediaQueries","Value","utils","_default","source","varsArr","arguments","length","undefined","_classCallCheck","processedSource","extractedVars","extractedProps","calculatedVars","calculatedProps","_createClass","key","value","calc","processSource","calcVars","calcProps","tryOutline","process","extract","varsArrForVars","concat","calcPlainObject","excludeKeys","outline","get","borderWidth","borderColor","getRandomColor","default","obj","Object","keys","reduce","res","prop","calcStyleValue","isNestedValue","Array","isArray","colors","index","Math","round","random"],"sources":["/Users/landroide/Desktop/ReactNative/Pros/WithExpo/Demo-project/node_modules/react-native-extended-stylesheet/src/style.js"],"sourcesContent":["/**\n * Style\n */\n\nimport vars from './replacers/vars';\nimport mediaQueries from './replacers/media-queries';\nimport Value from './value';\nimport utils from './utils';\n\nexport default class {\n  /**\n   * Constructor\n   * @param {Object} source plain object style with variables\n   * @param {Array} [varsArr] array of vars objects\n   */\n  constructor(source, varsArr = []) {\n    this.source = source;\n    this.varsArr = varsArr;\n    this.processedSource = null;\n    this.extractedVars = null;\n    this.extractedProps = null;\n    this.calculatedVars = null;\n    this.calculatedProps = null;\n  }\n\n  /**\n   * Calculates style\n   * @returns {Object}\n   */\n  calc() {\n    this.processSource();\n    this.calcVars();\n    this.calcProps();\n    this.tryOutline();\n    return {\n      calculatedVars: this.calculatedVars,\n      calculatedProps: this.calculatedProps,\n    };\n  }\n\n  processSource() {\n    this.processedSource = mediaQueries.process(this.source);\n  }\n\n  calcVars() {\n    this.extractedVars = vars.extract(this.processedSource);\n    if (this.extractedVars) {\n      const varsArrForVars = [this.extractedVars].concat(this.varsArr);\n      this.calculatedVars = calcPlainObject(this.extractedVars, varsArrForVars);\n      this.varsArr = [this.calculatedVars].concat(this.varsArr);\n    }\n  }\n\n  calcProps() {\n    this.extractedProps = utils.excludeKeys(this.processedSource, this.extractedVars);\n    this.calculatedProps = calcPlainObject(this.extractedProps, this.varsArr);\n  }\n\n  tryOutline() {\n    let outline = vars.get('$outline', this.varsArr);\n    if (outline) {\n      this.calculatedProps.borderWidth = typeof outline === 'number' ? outline : 1;\n      this.calculatedProps.borderColor = getRandomColor();\n    }\n  }\n\n}\n\n/**\n * Calculates values in plain object\n *\n * @param {Object} obj\n * @param {Array} varsArr\n * @returns {Object}\n */\nfunction calcPlainObject(obj, varsArr) {\n  return Object.keys(obj).reduce((res, prop) => {\n    res[prop] = calcStyleValue(prop, obj[prop], varsArr);\n    return res;\n  }, {});\n}\n\n/**\n * Calculates single value\n * @param {String} prop\n * @param {*} value\n * @param {Array} varsArr\n */\nfunction calcStyleValue(prop, value, varsArr) {\n  const isNestedValue = value && typeof value === 'object' && !Array.isArray(value);\n  return isNestedValue\n    ? calcPlainObject(value, varsArr)\n    : new Value(value, prop, varsArr).calc();\n}\n\n/**\n * Returns random color (needed for outline)\n * @returns {String}\n */\nfunction getRandomColor() {\n  let colors = [\n    'black',\n    'red',\n    'green',\n    'blue',\n  ];\n  let index = Math.round(Math.random() * (colors.length - 1));\n  return colors[index];\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}