{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from \"../axios-client\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { setItemAsync, deleteItemAsync } from 'expo-secure-store';\nimport { USER_TOKEN_KEY, USER_KEY } from \"../providers/AuthProvider\";\nimport ErrorHandler from \"../ErrorHandler\";\nexport function login(_x) {\n  return _login.apply(this, arguments);\n}\nfunction _login() {\n  _login = _asyncToGenerator(function* (data) {\n    try {\n      data.device_name = Platform.OS;\n      var res = yield axios.post('login', data);\n      yield setItemAsync(USER_TOKEN_KEY, res.data.data.token);\n      yield setItemAsync(USER_KEY, JSON.stringify(res.data.data.user));\n      return res.data;\n    } catch (error) {\n      throw ErrorHandler(error);\n    }\n  });\n  return _login.apply(this, arguments);\n}\nexport function signup(_x2) {\n  return _signup.apply(this, arguments);\n}\nfunction _signup() {\n  _signup = _asyncToGenerator(function* (data) {\n    try {\n      var res = yield axios.post('signup', data);\n      return res.data.message;\n    } catch (error) {\n      throw ErrorHandler(error);\n    }\n  });\n  return _signup.apply(this, arguments);\n}\nexport function logout() {\n  return _logout.apply(this, arguments);\n}\nfunction _logout() {\n  _logout = _asyncToGenerator(function* () {\n    try {\n      var res = axios.post('logout');\n      yield deleteItemAsync(USER_TOKEN_KEY);\n      yield deleteItemAsync(USER_KEY);\n      return res.data.message;\n    } catch (error) {\n      throw ErrorHandler(error);\n    }\n  });\n  return _logout.apply(this, arguments);\n}","map":{"version":3,"names":["axios","Platform","setItemAsync","deleteItemAsync","USER_TOKEN_KEY","USER_KEY","ErrorHandler","login","_x","_login","apply","arguments","_asyncToGenerator","data","device_name","OS","res","post","token","JSON","stringify","user","error","signup","_x2","_signup","message","logout","_logout"],"sources":["/Users/landroide/Desktop/ReactNative/Pros/WithExpo/Demo-project/src/services/AuthServices.js"],"sourcesContent":["import axios from '../axios-client'\nimport { Platform } from 'react-native'\nimport { setItemAsync, deleteItemAsync } from 'expo-secure-store'\nimport { USER_TOKEN_KEY, USER_KEY } from '../providers/AuthProvider'\nimport  ErrorHandler from '../ErrorHandler'\n\nexport async function login(data) {\n    try {\n\n        data.device_name = Platform.OS\n        let res = await axios.post('login', data)\n        await setItemAsync(USER_TOKEN_KEY, res.data.data.token)\n        await setItemAsync(USER_KEY, JSON.stringify(res.data.data.user))\n        return res.data\n\n    } catch (error) {\n        throw ErrorHandler(error)\n    }\n}\n\nexport async function signup(data) {\n    try {\n\n        let res = await axios.post('signup', data)\n        return res.data.message\n\n    } catch (error) {\n        throw ErrorHandler(error)\n    }\n}\n\nexport async function logout() {\n    try {\n\n        let res = axios.post('logout')\n        await deleteItemAsync(USER_TOKEN_KEY)\n        await deleteItemAsync(USER_KEY)\n        return res.data.message\n\n    } catch (error) {\n        throw ErrorHandler(error)\n    }\n}"],"mappings":";AAAA,OAAOA,KAAK;AAAuB,OAAAC,QAAA;AAEnC,SAASC,YAAY,EAAEC,eAAe,QAAQ,mBAAmB;AACjE,SAASC,cAAc,EAAEC,QAAQ;AACjC,OAAQC,YAAY;AAEpB,gBAAsBC,KAAKA,CAAAC,EAAA;EAAA,OAAAC,MAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAY1B,SAAAF,OAAA;EAAAA,MAAA,GAAAG,iBAAA,CAZM,WAAqBC,IAAI,EAAE;IAC9B,IAAI;MAEAA,IAAI,CAACC,WAAW,GAAGb,QAAQ,CAACc,EAAE;MAC9B,IAAIC,GAAG,SAAShB,KAAK,CAACiB,IAAI,CAAC,OAAO,EAAEJ,IAAI,CAAC;MACzC,MAAMX,YAAY,CAACE,cAAc,EAAEY,GAAG,CAACH,IAAI,CAACA,IAAI,CAACK,KAAK,CAAC;MACvD,MAAMhB,YAAY,CAACG,QAAQ,EAAEc,IAAI,CAACC,SAAS,CAACJ,GAAG,CAACH,IAAI,CAACA,IAAI,CAACQ,IAAI,CAAC,CAAC;MAChE,OAAOL,GAAG,CAACH,IAAI;IAEnB,CAAC,CAAC,OAAOS,KAAK,EAAE;MACZ,MAAMhB,YAAY,CAACgB,KAAK,CAAC;IAC7B;EACJ,CAAC;EAAA,OAAAb,MAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsBY,MAAMA,CAAAC,GAAA;EAAA,OAAAC,OAAA,CAAAf,KAAA,OAAAC,SAAA;AAAA;AAS3B,SAAAc,QAAA;EAAAA,OAAA,GAAAb,iBAAA,CATM,WAAsBC,IAAI,EAAE;IAC/B,IAAI;MAEA,IAAIG,GAAG,SAAShB,KAAK,CAACiB,IAAI,CAAC,QAAQ,EAAEJ,IAAI,CAAC;MAC1C,OAAOG,GAAG,CAACH,IAAI,CAACa,OAAO;IAE3B,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACZ,MAAMhB,YAAY,CAACgB,KAAK,CAAC;IAC7B;EACJ,CAAC;EAAA,OAAAG,OAAA,CAAAf,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsBgB,MAAMA,CAAA;EAAA,OAAAC,OAAA,CAAAlB,KAAA,OAAAC,SAAA;AAAA;AAW3B,SAAAiB,QAAA;EAAAA,OAAA,GAAAhB,iBAAA,CAXM,aAAwB;IAC3B,IAAI;MAEA,IAAII,GAAG,GAAGhB,KAAK,CAACiB,IAAI,CAAC,QAAQ,CAAC;MAC9B,MAAMd,eAAe,CAACC,cAAc,CAAC;MACrC,MAAMD,eAAe,CAACE,QAAQ,CAAC;MAC/B,OAAOW,GAAG,CAACH,IAAI,CAACa,OAAO;IAE3B,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACZ,MAAMhB,YAAY,CAACgB,KAAK,CAAC;IAC7B;EACJ,CAAC;EAAA,OAAAM,OAAA,CAAAlB,KAAA,OAAAC,SAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}